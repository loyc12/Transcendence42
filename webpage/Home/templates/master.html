{% load compress %}

<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Browser Setup  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
       <meta charset="UTF-8">
       <meta http-equiv="X-UA-Compatible" content="IE=edge">
       <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!-- Onglet Tabulation  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
       <title>Ping Pang Pong</title>
       <!-- Stylesheet Dependency  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
       <!-- Folder Dependency CSS // JS  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
       <!-- - - - - - -  Bootstrap VER - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
        <link rel="stylesheet"  href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
        <!-- - - - - - -  Fonts - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
        <link rel="preconnect"  href="https://fonts.googleapis.com">
        <link rel="preconnect"  href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet"  href="https://fonts.googleapis.com/css2?family=Nunito&display=swap">
        <link type="text/css" rel="stylesheet" href="css/styles.css">
        <style>
            .custom-spinner {
                animation: changeColor 2s linear infinite;
                display: none;
            }
            @keyframes changeColor {
                0%, 100% {
                    background-color: #FF10F0;
                }
                50% {
                    background-color: #23e301;
                }
            }
        </style>
    </head>

    <body id="BODY" style="background-color: #178ca8;">
        <!-- Container - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
        <div class="container-fluid">
         <!-- NAVBAR  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
            <!-- Navbar HOME STATE  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
            {% if request.session.user_id %}
                <div class="row">
                    <div id="NavBarInit" div class="NavBar">
                    {% block navbar_home %}
                            {% include 'Selector/home_navbar.html' %}
                    {% endblock %}
                    </div>
                </div>
            {% else %}
                <div class="row">
                    <div id="NavBarInit" div class="NavBar">
                    {% block anon_navbar %}
                            {% include 'Selector/anon_navbar.html' %}
                    {% endblock %}
                    </div>
                </div>
            {% endif %}

            <!-- Navbar INFO - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
            <div class="row">
                <div id="NavBarInfo" div class="NavBar">
                {% block navbar_info %}
                        {% include 'Selector/info_navbar.html' %}
                {% endblock %}
                </div>
            </div>
            <!-- Navbar INFO - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
            <div class="row">
                <div id="NavBarHelp" div class="NavBar">
                {% block navbar_help %}
                        {% include 'Selector/help_navbar.html' %}
                {% endblock %}
                </div>
            </div>
            <!-- Navbar GAME - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
            <div class="row">
                <div id="NavBarGame" div class="NavBar">
                {% block navbar_game %}
                        {% include 'Selector/game_navbar.html' %}
                {% endblock %}
                </div>
            </div>
            <!-- Navbar LOGIN - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
            <div class="row">
                <div id="NavBarLogin" div class="NavBar">
                {% block navbar_login %}
                        {% include 'Selector/login_navbar.html' %}
                {% endblock %}
                </div>
            </div>
            <div class="row">
                <div id="contentHome" class="col-12 col-md-8 offset-md-2 col-lg-6 offset-lg-3 mb-3 HeroDiv">
                    {% block HeroDiv %}
                        {% include 'Home/herodiv.html' %}
                    {% endblock %}
                </div>
            </div>
            <!-- Info - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
            <div class="row">
                <div id="contentInfo" class="module1">
                    {% block module1 %}
                        {% include 'Profile/profile.html' %}
                    {% endblock %}
                </div>
            </div>
             <!-- Help - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
             <div class="row">
                <div id="contentHelp" class="module4">
                    {% block module4 %}
                        {% include 'Help/help.html' %}
                    {% endblock %}
                </div>
            </div>
            <!-- Remote - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
            <div class="row">
                <div id="contentGame" class="module2">
                    {% block module2 %}
                    {% include	'Game/gameMode.html' %}
                    {% endblock %}
                </div>
            </div>
            <!-- Login - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
            <div class="row">
                <div id="contentLogin" class="module3">
                    {% block module3 %}
                    {% include 'Login/login.html' %}
                    {% endblock %}
                </div>
            </div>
            <!-- Lobby - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
            <div class="row">
                <div id="lobby" class="lobby">
                    {% block lobby %}
                        {% include 'Lobby/lobby.html' %}
                    {% endblock %}
                </div>
            </div>
            <div class="row">
                <div id="aftergame" class="aftergame">
                    {% block aftergame %}
                        {% include 'AfterGame/aftergame.html' %}
                    {% endblock %}
                </div>
            </div>
            <!-- Game - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
            <div class="row">
                <div id="game" class="game">
                    {% block game %}
                        {% include 'Game/game.html' %}
                    {% endblock %}
                </div>
            </div>
        </div>
    </body>

    <footer class="border-top" style="background-color: #4cbe96;" >
        <div class="container-fluid">
            <div class="row">
                <div class="col-12 text-center">
                    <p>Built with &#x2661 by GALIV</p>
                </div>
            </div>
        </div>
    </footer>
    <!-- - - - - - -  Bootstrap VER - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" defer></script>
<!-- Events Handler Scripts  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
{% csrf_token %}
{% compress js %}
    {% if request.session.user_id %}
        <script>
            const user_id = {{ request.session.user_id }};
            const api_key = "{{ request.user.apiKey }}";
            console.log("request.session.user_id OK user_id = " + user_id);
            console.log("request.session.user_id OK api_key = " + api_key);
        </script>
    {% else %}
        <script>
            const user_id = null;
            const api_key = null;
            console.log("session user CACA user_id is null");
            console.log("session user CACA api_key is null");
        </script>
    {% endif %}
    <script type="text/javascript" src="js/defs.js" defer></script>
    <script type="text/javascript" src="js/login_connection.js" defer></script>
    <script type="text/javascript" src="js/tournament_connection.js" defer></script>
    <script type="text/javascript" src="js/systemPage.js" defer></script>
    <script type="text/javascript" src="js/game.js" defer></script>
    <script type="text/javascript" src="js/gameMode.js" defer></script>
    <script type="text/javascript" src="js/fetchUserProfile.js" defer></script>
    <script type="text/javascript" src="js/gameState.js" defer></script>
    <script type="text/javascript" src="js/canvasRender.js" defer></script>
    <script type="text/javascript" src="js/megaModule.js" defer></script>
    <script type="text/javascript" src="js/update_player_info.js" defer></script>
    <script type="text/javascript" src="js/update_tournament_info.js" defer></script>
    <script type="text/javascript" src="js/api_controler.js" defer></script>
    <script type="text/javascript" src="js/browserNav.js" defer></script>
{% endcompress %}
</html>